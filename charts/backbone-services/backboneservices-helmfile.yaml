repositories:
- name: bitnami
  url: https://charts.bitnami.com/bitnami

templates:
  default: &default
    namespace: helmfile
    missingFileHandler: Warn

releases:
- name: cert-manager
  chart: ./cert-manager
  version: 0.5.2
  <<: *default
  values:
    - ./cert-manager/values.yaml

- name: minio
  chart: ./minio
  version: 0.1.0
  <<: *default
  values:
    - ./minio/values.yaml

- name: postgresql
  chart: ./postgresql
  version: 11.9.13
  <<: *default
  values:
    - ./postgresql/values.yaml
    - global:
        postgresql:
          auth:
            postgresPassword: "oQufrtlzNe"

- name: redis
  chart: ./redis
  version: 3.0.0
  <<: *default
  values:
    - ./redis/values.yaml

- name: elasticsearch
  chart: ./elasticsearch
  version: 7.6.1
  <<: *default
  values:
    - ./elasticsearch/values.yaml

- name: elasticsearch-data
  chart: ./elasticsearch-data
  version: 7.6.1
  <<: *default
  values:
    - ./elasticsearch-data/values.yaml

- name: kibana
  chart: ./kibana
  version: 1.0.0
  force: true
  <<: *default
  values:
    - ./kibana/values.yaml

- name: kafka-kraft
  chart: ./kafka-kraft
  version: 1.0.0
  <<: *default
  values:
    - ./kafka-kraft/values.yaml
  set:
    - name: kraft.clusterId
      value: ltNTKIBsYBZFFnaLjs1mk2  

- name: ingress-nginx
  chart: ./ingress-nginx
  version: 1.0.0
  <<: *default
  values:
    - ./ingress-nginx/values.yaml
