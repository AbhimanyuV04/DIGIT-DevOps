server{
	listen 80;
    resolver 127.0.0.1:53 ipv6=off;
	underscores_in_headers on;
	set $hr_web http://hr-web;
	set $lams_web http://lams-web;
	set $asset_web http://asset-web;
	set $asset_services http://asset-services;
	set $lams_services http://lams-services;
	set $demand_services http://demand-services;
	set $hr_employee http://hr-employee;
	set $hr_attendance http://hr-attendance;
	set $egf_masters http://egf-masters;
	set $egov_common_workflows  http://egov-common-workflows;
	set $egov_common_masters  http://egov-common-masters;
	set $hr_web http://hr-web;
	set $lams_web http://lams-web;
	set $asset_web http://asset-web;
	set $egov_filestore http://egov-filestore;
	set $egov_location http://egov-location;
	set $egov_localization http://egov-localization;
	set $egov_user http://egov-user;

	location /asset-services {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $asset_services:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /lams-services {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $lams_services:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /hr-employee {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $hr_employee:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /hr-attendance {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $hr_attendance:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /demand-services {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $demand_services:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /egf-masters {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egf_masters:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /egov-common-workflows {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_common_workflows:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /egov-common-masters {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_common_masters:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /hr-web {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $hr_web:80;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /lams-web {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $lams_web:80;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /asset-web {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $asset_web:80;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /egov-filestore {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_filestore:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /user {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_user:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location /localization {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_localization:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}

	location ~ ^/(v1\/location|a1\/location)/ {
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;

        client_max_body_size 2M;
        proxy_pass $egov_location:8080;
        proxy_pass_request_headers on;
        proxy_read_timeout 90;
	}
}