# Common Labels
labels:
  app: "employee"
  group: "web"

# Init Containers Configs
initContainers: {}

# Container Configs
image:
  repository: "egovio/employee"
replicas: "1"
healthChecks:
  enabled: true
  livenessProbePath: "/employee/"
  readinessProbePath: "/employee/"
dashboard-url: ""

# Additional Container Envs
env: |
  - name: REACT_APP_WS_FINANCIALINDICATORS
    value: {{ index .Values "dashboard-url" | quote }}
  ports:
  - containerPort: 80
  readinessProbe:
    httpGet:
      path: /employee/
      port: 80
    initialDelaySeconds: 5
    periodSeconds: 5
    successThreshold: 1
  {{- if index .Values "custom-js-injection" }}
  volumeMounts:            
  - mountPath: /etc/nginx/conf.d/sub_filter.conf
    name: js-injection    
    subPath: sub_filter.conf   
  {{- end }}

