# Common Labels
labels:
  app: "employee-mcs"
  group: "web"

# Ingress Configs
ingress:
  enabled: true
  context: "employee-mcs"

# Init Containers Configs
initContainers: {}

# Container Configs
image:
  repository: "employee-mcs"
replicas: "1"
httpPort: 80
healthChecks:
  enabled: true
  livenessProbePath: "/employee-mcs/"
  readinessProbePath: "/employee-mcs/"
dashboard-url: ""

# Additional Container Envs
env: |
  - name: REACT_APP_WS_FINANCIALINDICATORS
    value: {{ index .Values "dashboard-url" | quote }}

extraVolumes: |
  - name: js-injection
    configMap:
      name: employee-mcs-js-injection

extraVolumeMounts: |
  - mountPath: /etc/nginx/conf.d/sub_filter.conf
    name: js-injection
    subPath: sub_filter.conf

custom-js-injection: |
    sub_filter.conf: "
      sub_filter  '<head>' '<head>
      <script src=https://s3.ap-south-1.amazonaws.com/pb-egov-assets/ulb-overrides-uat-20191226.js type=text/javascript></script>
      <script src=https://s3.ap-south-1.amazonaws.com/egov-telemetry-data/egov-telemetry-1557467338.js type=text/javascript></script>
      <script src=https://s3.ap-south-1.amazonaws.com/egov-dev-assets/globalConfigs.js type=text/javascript></script>
      <link rel=stylesheet href=https://egov-dev-assets.s3.ap-south-1.amazonaws.com/dashboard-iframe-fix.css>
      ';"

namespace: egov
