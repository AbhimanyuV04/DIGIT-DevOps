# Default values for egov-edcr.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
namespace: egov

# Common Labels
labels:
  app: "egov-edcr"

# Container Configs
image:
  repository: "egov-edcr"
  pullPolicy: IfNotPresent
  tag: latest
replicas: "1"
httpPort: 8080

resources: |
  limits:
    memory: "3Gi"
  requests:
    memory: "3Gi"

env: |
  - name: DB_URL
    valueFrom: 
      configMapKeyRef: 
        name: egov-config
        key: erp-db-url
  - name: DB_USERNAME
    valueFrom: 
      secretKeyRef: 
        name: db
        key: username
  - name: DB_PASSWORD
    valueFrom: 
      secretKeyRef: 
        name: db
        key: password
  - name: NO_TXN_DB_URL
    valueFrom: 
      configMapKeyRef: 
        name: egov-config
        key: erp-db-url   
  - name: NO_TXN_DB_USER
    valueFrom: 
      secretKeyRef: 
        name: db
        key: username
  - name: NO_TXN_DB_PASSWORD 
    valueFrom: 
      secretKeyRef: 
        name: db
        key: password
  - name: mail-sender-password
    valueFrom: 
      secretKeyRef: 
        name: egov-edcr-notification
        key: mailsenderpassword
  - name: mail-sender-username
    valueFrom: 
      secretKeyRef: 
        name: egov-edcr-notification
        key: mailsenderusername     
  - name: sms-username
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-notification
        key: smssenderusername
  - name: sms-password
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-notification
        key: smssenderpassword     
  - name: pnb-mid
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-bank-gateway
        key: pnbmid
  - name: pnb-encryption-key
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-bank-gateway
        key: pnbencryptionkey
  - name: hdfc-key
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-bank-gateway
        key: hdfckey
  - name: hdfc-salt
    valueFrom:
      secretKeyRef:  
        name: egov-edcr-bank-gateway
        key: hdfcsalt
       
healthChecks:
  enabled: true
  livenessProbePath: "/egi/"
  readinessProbePath: "/egi/"

extraVolumeMounts: |
  - mountPath: /opt/jboss/wildfly/modules/system/layers/base/org/egov/settings/main/config/egov-erp-override.properties
    name: edcr-override-config
    subPath: egov-erp-override.properties 
extraVolumes: |
  - name: edcr-override-config
    configMap:
      name: egov-edcr-config        


scheduler: true
dev_mode: false
jpa_showSql: false
master_server: true
sms: true
mail: true
captcha: low
redis_host: redis.backbone 
redis_port: 6379
statewide_migration: true
state_migration: true
state_schema: state
multitenancy: true
db_flyway: false

mail_config: |
  mail.port=465
  mail.host=smtp.gmail.com
  mail.sender.username=${mail-sender-username}
  mail.sender.password=${mail-sender-password}
  mail.smtps.auth=true
  mail.smtps.starttls.enable=true
  mail.smtps.debug=false

smc_config: |
  sms.priority.enabled=false
  sms.provider.url=http://api.smscountry.com/SMSCwebservice_bulk.aspx
  sms.sender.username=${sms-username}
  sms.sender.password=${sms-password}
  sms.sender=SMSCOUNTRY
  sms.sender.req.param.name=sid
  sms.sender.username.req.param.name=User
  sms.sender.password.req.param.name=passwd
  sms.destination.mobile.req.param.name=mobilenumber
  sms.message.req.param.name=message
  sms.extra.req.params=mtype=N&DR=Y
  sms.error.codes=401,403,404,405,406,407,408,409,410,411,412,413,414      
  
elastic_config: |
  #elasticsearch.hosts=punjab-dev-es-cluster
  #elasticsearch.port=9300
  #elasticsearch.cluster.name=punjab-dev-es-cluster
  
elastic_search_config: |
  search.index.q=java:/jms/queue/searchindex
  #search.hosts=punjab-dev-es-cluster
  #search.port=9300
  #search.clusterName=punjab-dev-es-cluster

aadhaar_config: |
  aadhaar.wsdl.url=http://164.100.132.193:8010/SRDHAadhaarInfoServices/services/SRDHAadhaarInfoservices?wsdl
  aadhaar.info.ws.method=getAadhaarInfo
  aadhaar.info.ws.namespace=http://srdhuidinfoservices/ecentric/com/xsd
  aadhaar.info.ws.client.impl.class.fqn=org.egov.infra.aadhaar.webservice.contract.AadhaarInfoImpl

tenants: |
  tenant.egov-dcr-mercury.egovernments.org=mercury
  tenant.egov-dcr-jupiter.egovernments.org=jupiter
  tenant.egov-dcr-galaxy.egovernments.org=state
  client.id=client
  tenant.egov-dcr-amritsar.egovernments.org=amritsar
  tenant.egov-dcr-jalandhar.egovernments.org=jalandhar
  #location.user.role=Collection Operator
  collection.debitaccounthead.client.impl.class=org.egov.collection.integration.services.DebitAccountHeadDetailsServiceImpl

payment_gatway_credential: |
  pnb.mid=${pnb-mid}
  pnb.encryption.key=${pnb-encryption-key}
  pnb.reconcile.url=https://cgt.in.worldline.com/ipg/getTransactionStatus
  pnb.transaction.currency=INR
  pnb.transaction.request.type=S
  pnb.transactionmessage=(visa/master(credit/debit)cards)

hdfc_payment_gatway_credential: |
  hdfc.key=${hdfc-key}
  hdfc.salt=${hdfc-salt}
  hdfc.pg=CC
  hdfc.reconcile.url=https://test.payu.in/merchant/postservice.php?form=2
  hdfc.reconcile.command=verify_payment
  hdfc.transaction.currency=INR
  hdfc.transaction.request.type=S

hdfc_payment_gatway_details: |
  hdfc.email=egov@test.in
  hdfc.phone=111111111

# Ingress Configs
ingress:
  enabled: true
  zuul: false
  waf: 
    enabled: false
  hostName: egov-dcr-jupiter.egovernments.org
  additionalAnnotations: 
    nginx.ingress.kubernetes.io/app-root: /egi/
  context: "/"
  

