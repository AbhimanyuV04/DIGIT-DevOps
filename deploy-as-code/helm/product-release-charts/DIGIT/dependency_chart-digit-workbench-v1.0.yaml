version: v1.0
modules:
    - name: backbone
      services:
        - zookeeper-v2
        - kafka-v2
        - kafka-connect
        - kafka-connect-restart-tasks
        - elasticsearch-data-v1
        - elasticsearch-master-v1
        - kibana-v1
        - egovio/postgres:11
    - name: authn-authz
      services:
        - redis
        - nginx-ingress
        - cert-manager
        - zuul:v1.3.1-96b24b0d72-39     
    - name: core
      dependencies:
        - "backbone"
        - "authn-authz"    
      services:
        - egovio/audit-service:v1.0.0-24873ba-3
        - egovio/egov-accesscontrol:v1.1.3-852f5ea-3
        - egovio/egov-enc-service:v1.1.3-44558a0-3
        - egovio/egov-filestore-db:v1.3.0-72d8393-4
        - egovio/egov-notification-mail:v1.2.0-9fde481-3
        - egovio/egov-notification-sms:v1.2.0-9fde481-3
        - egovio/egov-localization:v1.1.3-44558a0-3
        - egovio/egov-persister:v1.1.5-3371bc2-5
        - egovio/egov-idgen:v1.2.3-44558a0-3
        - egovio/egov-user:v1.2.8-9fde481-19
        - egovio/egov-mdms-service:v1.3.2-44558a0-3
        - egovio/egov-url-shortening:v1.1.2-010cd85-3
        - egovio/egov-indexer:v1.1.7-44558a0-3
        - egovio/egov-location:v1.1.5-fbea797-5
        - egovio/egov-otp:v1.2.3-9fde481-3
        - egovio/user-otp:v1.2.0-9fde481-8
        - egovio/playground:1.0
    - name: business
      dependencies:
        - "backbone"
        - "core"
      services:
        - egovio/egov-hrms-db:v1.2.6-116d8db-9
    - name: workbench
      dependencies:
        - "backbone"
        - "authn-authz"    
        - "core"
      services:
        - egovio/workbench-ui:workbench-v1.1-f178a12961-106
        - egovio/mdms-v2-db:mdms-backward-fix-a1f3f8deb8-22 


