global:
  domain: ifix-qa.ifix.org.in
  #containerRegistry: dwssio
  tracing-enabled: false
  namespace: ifix
  nodepool:
    selector: ifix-qa-ng
    toleration: ifix-qa-ng

cluster-configs:
    namespaces:  
      create: true
      values: [ cert-manager, ifix , olap ]
      
    root-ingress:
      cert-issuer: letsencrypt-prod
    configmaps:
        egov-config:
          data:
            mongo-db-host: "ifix-db.cluster-cqqfmghbjssw.ap-south-1.docdb.amazonaws.com"
            mongo-db-name: "ifix_qa_db"
            mongo-db-url: "mongodb://ifix-db.cluster-cqqfmghbjssw.ap-south-1.docdb.amazonaws.com:27017/?retryWrites=false"
            db-host: unified-qa-db.czvokiourya9.ap-south-1.rds.amazonaws.com:5432
            db-name: unifiedqadb
            db-schema: "ifix"
            db-url: jdbc:postgresql://unified-qa-db.czvokiourya9.ap-south-1.rds.amazonaws.com:5432/unifiedqadb?currentSchema=ifix ## example: jdbc:postgresql://egov-demo.postgres.database.azure.com:5432/egov_demo
            # es-indexer-host: "http://elasticsearch-data-v1.es-cluster:9200/"
            keycloak-db-name: "keycloak_qa_db"
            domain: "ifix-qa.ifix.org.in"
            egov-services-fqdn-name: "https://ifix-qa.ifix.org.in/"
            egov-state-level-tenant-id: "pb"
            flyway-locations: "filesystem:/flyway/sql,filesystem:/flyway/seed,filesystem:/flyway/qa"
            # kafka-brokers: "kafka-v2.ifix:9092"
            # kafka-infra-brokers: "kafka-v2.ifix:9092"
            logging-level-jdbc: "debug"
            serializers-timezone-in-ist: "true"
            server-tomcat-max-threads: "10"
            server-tomcat-max-connections: "500"
            spring-datasource-tomcat-initialSize: "1"
            spring-datasource-tomcat-max-active: "5"
            spring-jpa-show-sql: "true"
            tracer-errors-provideexceptionindetails: "true"
            timezone: "Asia/Kolkata"
            druid-host: "druid-broker.olap"

        egov-service-host:
            namespace: [ifix]
            data:
                ifix-master-data-service: "http://ifix-master-data-service.ifix:8080/"
                egov-indexer: "http://egov-indexer.ifix:8080/"
                dashboard-analytics: "http://dashboard-analytics.ifix:8080/"
                egov-mdms-service: "http://egov-mdms-service.ifix:8080/"
                fiscal-event-service: "http://fiscal-event-service.ifix:8080/"
                ifix-zuul: "http://ifix-zuul.ifix:8080/"
                ifix-department-entity-service: "http://ifix-department-entity-service.ifix:8080/"
                keycloak: "http://keycloak.ifix:8080/"


ifix-master-data-service:
  server-context-path: "/ifix-master-data"

fiscal-event-service:
  fiscal-kafka-push-topic: "fiscal-event-request-validated"
  fiscal-event-push-request-max-size: "1000"

fiscal-event-post-processor:
  fiscal-event-kafka-push-topic: "fiscal-event-request-validated"
  fiscal-event-kafka-dereferenced-topic: "fiscal-event-request-dereferenced"
  fiscal-event-kafka-flattened-topic: "fiscal-event-line-item-flattened"
  fiscal-event-processor-kafka-mongodb-topic: "fiscal-event-mongodb-sink"
  fiscal-event-processor-kafka-druid-topic: "fiscal-event-druid-sink"

# web >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

digit-ui:
  custom-js-injection: |
    sub_filter.conf: "
      sub_filter  '<head>' '<head>
      <script src=https://s3.ap-south-1.amazonaws.com/ifix-dev-assets/globalQAConfigs.js type=text/javascript></script>
      ';"


ifix-migration-toolkit:
  fiscal-event-kafka-push-topic: "fiscal-event-request-validated"
  fiscal-event-es-push-topic: "index-fiscal-events"
  ifix-migration-batch-size: "200"
  ifix-department-entity-search-endpoint: "ifix-department-entity/departmentEntity/hierarchyLevel/v1/_search"


# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
egov-mdms-service:
  mdms-path: "/work-dir/mdms-mgramseva/data"
  mdms-folder: "mdms-mgramseva"
  java-args: -Dspring.profiles.active=monitoring
  masters-config-url: "file:///work-dir/mdms-mgramseva/master-config.json"
  initContainers:
    gitSync:
      repo: "git@github.com:misdwss/mdms-mgramseva"
      branch: "QA"

egov-indexer:
  heap: "-Xmx512m -Xms512m"
  memory_limits: "768Mi"
  initContainers:
    gitSync:
      repo: "git@github.com:misdwss/config-mgramseva"
      branch: "QA"
egov-indexer-yaml-repo-path: "file:///work-dir/config-mgramseva/egov-indexer/billingservices-indexer.yml,file:///work-dir/config-mgramseva/egov-indexer/collection-indexer.yml,file:///work-dir/config-mgramseva/egov-indexer/egov-echallan.yml,file:///work-dir/config-mgramseva/egov-indexer/egov-telemetry-indexer.yml,file:///work-dir/config-mgramseva/egov-indexer/error-queue.yml,file:///work-dir/config-mgramseva/egov-indexer/egov-vendor.yaml,file:///work-dir/config-mgramseva/egov-indexer/payment-indexer.yml,file:///work-dir/config-mgramseva/egov-indexer/finance-rolloutadotpion-indexer.yml,file:///work-dir/config-mgramseva/egov-indexer/property-services.yml,file:///work-dir/config-mgramseva/egov-indexer/water-service.yml,file:///work-dir/config-mgramseva/egov-indexer/water-services-meter.yml,file:///work-dir/config-mgramseva/egov-indexer/pgr-services.yml,file:///work-dir/config-mgramseva/egov-indexer/rainmaker-pgr-indexer.yml"

egov-persister:
  persist-yml-path: "file:///work-dir/config-mgramseva/egov-persister/ifix-migration-progress.yml"
  initContainers:
    gitSync:
      enabled: true
      repo: "git@github.com:misdwss/config-mgramseva"
      branch: "master"

dashboard-analytics:
  config-schema-paths: "file:///work-dir/config-mgramseva/egov-dss-dashboards/dashboard-analytics/*.json"
  initContainers:
    gitSync:
      enabled: true
      repo: "git@github.com:misdwss/config-mgramseva"
      branch: "master"                                 ##### Change repo branch with Your fork Repo branch

fiscal-event-aggregator:
  aggregator-topic-name: "aggregated-fiscal-event"
  aggregator-datasource-name: "fiscal-event"

mongodb-kafka-source-connector:
  mongodb-collection-name: "fiscal_event"
  kafka-topic: "fiscal-event-request-dereferenced"

druid:
  domain: druid-qa.ifix.org.in
  druids3: ifix-druid-qa-assets

metabase:
  domain: metabase-qa.ifix.org.in
  siteUrl: metabase-qa.ifix.org.in

# redis >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
redis:
  replicas: 1
  images:
    - egovio/redis:3.2

# >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

# gateway >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

nginx-ingress:
  replicas: 1
  default-backend-service: "egov/nginx"
  namespace: ifix
  cert-issuer: "letsencrypt-prod"
  ssl-protocols: "TLSv1.2 TLSv1.3"
  ssl-ciphers: "EECDH+CHACHA20:EECDH+AES"
  ssl-ecdh-curve: "X25519:prime256v1:secp521r1:secp384r1"
  controller:
    image:
      repository: egovio/nginx-ingress-controller
      tag: "0.26.1"     
    metrics:
      enabled: true
      #serviceMonitor:
      #  enabled: true
    service:
      prometheusRule:
        enabled: true

cert-manager:
  email: "devops@egovernments.org"     ### Add email-id which used by cert-manager for certificates validation.
  
oauth2-proxy:
  config:
    configFile: |-
      email_domains = [ "*" ]
      github_org = "egovernments"
      github_team = "micro-service-qa"
      upstreams = [ "file:///dev/null" ]


zuul:
  replicas: 2
  custom-filter-property: "false"
  tracing-enabled: "true"
  heap: "-Xmx704m -Xms512m"
  memory_limits: 512Mi
  server-tomcat-max-threads: "350"
  server-tomcat-max-connections: "1500"
  egov-open-endpoints-whitelist: "/user/oauth/token,/user-otp/v1/_send,/otp/v1/_validate,/user/citizen/_create,/localization/messages,/localization/messages/v1/_search,/user/password/nologin/_update,/pgr/servicedefinition/v1/_search,/pgr/servicecategories/v1/_search,/pgr/v1/otp/_send,/pgr-master/receivingmode/v1/_search,/tenant/v1/tenant/_search,/egov-location/boundarys,/egov-location/boundarys/boundariesByBndryTypeNameAndHierarchyTypeName,/pgr-master/service/v1/_search,/egov-location/boundarys/getLocationByLocationName,/pgr-master/OTPConfig/_search,/pgr-master/serviceGroup/v1/_search,/egov-location/boundarys/isshapefileexist,/pgr/services/v1/_search,/hr-masters/hrconfigurations/_search,/collection-services/receipts/_view,/pgr-master/service/v2/_search,/pgr-master/servicedefinition/v1/_search,/citizen-services,/citizen-services/v1/requests/receipt/_create,/citizen-services/v1/pgresponse,/citizen-services/v1/requests/anonymous/_search,/egov-mdms-service/v1/_search,/egov-mdms-service/v1/_get,/egov-mdms-service/v1/_reload,/egov-mdms-service/v1/_reloadobj,/egov-location/boundarys/getshapefile,/egov-indexer/index-operations/_index,/egov-indexer/index-operations/_reload,/egov-mdms-service-test/v1/_search,/egov-mdms-create/v1/_update,/egov-mdms-create/v1/_create,/egov-mdms-service-test/v1/_reload,/filestore/v1/files/url,/egov-url-shortening,/adapter-master-data/department/v1/_search,/ifix-department-entity/departmentEntity/hierarchyLevel/v1/_search,/ifix-department-entity/departmentEntity/v1/_search,/adapter-master-data/project/v1/_search,/adapter-master-data/project/v1/_create"
  egov-mixed-mode-endpoints-whitelist: "/pgr/seva/v1/_create,/pgr/seva/v1/_search,/pgr/seva/v1/_count,/workflow/history/v1/_search,/filestore/v1/files/id,/filestore/v1/files,/filestore/v1/files/tag,/egov-common-masters/departments/_search,/pt-property/property/propertytypes/_search,/pt-property/properties/_search,/pt-property/property/usages/_search,/egov-idgen/id/_generate,/egf-masters/financialyears/_search,/egov-common-workflows/process/_start,/egov-common-workflows/process/_search,/egov-common-workflows/tasks,/egov-common-workflows/tasks/{id}/_update,/user/_search,/billing-service/demand/_dues,/billing-service/bill/_generate,/billing-service/demand/_create,/wcms/masters/waterchargesconfig/_search,/wcms/masters/usagetypes/_search,/wcms/masters/pipesizes/_search,/wcms-connection/connection/_getbillingtypes,/wcms-connection/connection/_getconnectiontypes,/wcms/masters/sourcetypes/_search,/wcms/masters/supplytypes/_search,/wcms/masters/storagereservoirs/_search,/wcms/masters/treatmentplants/_search,/wcms/masters/documenttypes-applicationtypes/_search,/wcms/masters/donations/_search,/wcms/masters/nonmeterwaterrates/_search,/wcms-connection/connection/_create,/egov-common-masters/genders/_search,/egov-common-workflows/designations/_search,/access/v1/actions/mdms/_get,/tl-services/v1/BPAREG/_create,/tl-services/v1/BPAREG/_update,/tl-calculator/v1/BPAREG/_getbill,/property-services/property/_search,/billing-service/bill/v2/_search,/egov-location/location/v11/boundarys/_search,/pg-service/transaction/v1/_create,/collection-services/payments/_search,/pdf-service/v1/_create,/billing-service/bill/v2/_fetchbill,/pg-service/transaction/v1/_update,/ws-services/wc/_bulkonboard,/ws-services/wc/_submitfeedback,/collection-services/payments/WS/_search,/ws-calculator/waterCalculator/_getPenaltyDetails,/billing-service/demand/_search,/pg-service/transaction/v1/_create"
# <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
# # fluent-bit >>>>>>>>>>>>>>>>>>>>>>>>>>>>>
# fluent-bit:
#   images:
#     - fluent/fluent-bit:1.0.6
#   egov-services-log-topic: "egov-services-logs"
#   egov-infra-log-topic: "egov-infra-logs"
# # <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

# kafka-v2 AWS >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    

mysql:
  persistence:
    enabled: true
    aws:
      volumeId: "vol-021faf5aa60819691"

ifix-department-entity-service:
  ingress:
    cors:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/cors-allow-origin: "https://ifix-qa.ifix.org.in"
